function decrypt(t,e){return CryptoJS.AES.decrypt(t,e).toString(CryptoJS.enc.Utf8)}function decryptAll(){const t=document.getElementById("decrypt-password").value;if(t){const e=document.querySelectorAll(".photo-list-item"),r=decrypt(e[0].dataset.src,t);new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/).test(r)&&(decryptContainer.style.display="none",lightgallery.style.display="flex",e.forEach(e=>{const r=decrypt(e.dataset.src,t);e.dataset.src=r;const n=e.querySelector(".photo-list-cover"),c=decrypt(n.alt,t),d=decrypt(n.title,t);e.dataset.subHtml=`<h4>${c}</h4><p>${d}</p>`,n.src=r,n.alt=c,n.title=d,e.querySelector("figcaption").innerText=c}))}}function initGalleryDecrypt(){decryptButton.onclick=decryptAll,document.getElementById("decrypt-password").addEventListener("keydown",t=>{"Enter"===t.key&&decryptAll()})}window.addEventListener("DOMContentLoaded",initGalleryDecrypt),window.addEventListener("pjax:complete",initGalleryDecrypt);